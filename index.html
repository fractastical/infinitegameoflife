<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Dimensional Conway's Game of Life with Distinct Colors</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        #score {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        #gameContainer {
            position: relative;
            width: 500px;
            height: 500px;
            margin-bottom: 20px;
        }
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            border: 1px solid #000;
        }
        #controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            max-width: 500px;
        }
        button {
            padding: 5px 10px;
            font-size: 14px;
            cursor: pointer;
        }
        #info {
            text-align: center;
            margin-bottom: 20px;
        }
        #chartContainer {
            width: 500px;
            height: 400px;
            margin-top: 20px;
        }
        /* Right Sidebar Styles */
        #sidebar {
            position: fixed;
            right: -300px;
            top: 0;
            width: 300px;
            height: 100%;
            background-color: #333;
            color: white;
            padding: 20px;
            overflow-y: auto;
            transition: 0.3s ease;
            z-index: 9999;
        }

        #sidebar.open {
            right: 0;
        }

        #closeBtn {
            position: absolute;
            top: 10px;
            left: 10px;
            cursor: pointer;
        }

        #openSidebarBtn {
            position: fixed;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            padding: 10px;
            background-color: #333;
            color: white;
            cursor: pointer;
            border-radius: 5px 0 0 5px;
            z-index: 9998;
        }

        #sidebar h3 {
            margin-top: 20px;
        }

        .patternCanvas {
            width: 100px;
            height: 100px;
            margin-bottom: 20px;
            border: 1px solid #fff;
        }
    </style>
</head>
<body>
    <div id="score">Score: 0</div>
    <div id="milestoneScores">
        <p>Score after 2 minutes: <span id="score2min">Not reached</span></p>
        <p>Score after 5 minutes: <span id="score5min">Not reached</span></p>
        <p>Score after 10 minutes: <span id="score10min">Not reached</span></p>
        <p>Score after 20 minutes: <span id="score20min">Not reached</span></p>
    </div>
    
    <div id="gameContainer">
        <canvas id="gameCanvas" width="500" height="500"></canvas>
    </div>
    
    <div id="controls">
        <button onclick="switchDimension()">Switch Dimension v 0.128</button>
        <button onclick="addDimension()">Add Dimension</button>
        <button onclick="addPattern('glider')">Add Glider</button>
        <button onclick="addPattern('blinker')">Add Blinker</button>
        <button onclick="addPattern('toad')">Add Toad</button>
        <button onclick="addPattern('beacon')">Add Beacon</button>
        <button onclick="addPattern('block')">Add Block</button>
        <button onclick="addPattern('beehive')">Add Beehive</button>
        <button onclick="addPattern('loaf')">Add Loaf</button>
        <button onclick="addPattern('boat')">Add Boat</button>
        <button onclick="addPattern('pulsar')">Add Pulsar</button>
        <button onclick="addPattern('glidergun')">Add Glider Gun</button>
        <button onclick="addPattern('r_pentomino')">Add R-pentomino</button>
        <button onclick="increasePropagation()">Increase Propagation Rate</button>
        <button onclick="increaseLifespan()">Increase Lifespan</button>
    </div>

    <div id="info">
        <p>Active Dimension: <span id="activeDimensionDisplay">1</span></p>
        <p>Total Dimensions: <span id="totalDimensionsDisplay">3</span></p>
        <p>Propagation Rate: <span id="propagationRateDisplay">100</span> ms</p>
        <p>Lifespan: <span id="lifespanDisplay">20</span> steps</p>
    </div>

    <div id="openSidebarBtn">Patterns</div>

    <div id="sidebar">
        <div id="closeBtn">X</div>
        <h2>Game of Life Patterns</h2>

        <!-- Render JavaScript Patterns -->
        <h3>Glider</h3>
        <p>The glider is a small, self-propagating pattern.</p>
        <canvas class="patternCanvas" id="gliderPattern"></canvas>

        <h3>Block</h3>
        <p>The block is a simple still life that remains stable over time.</p>
        <canvas class="patternCanvas" id="blockPattern"></canvas>

        <h3>Beehive</h3>
        <p>The beehive is another stable pattern that doesnâ€™t change over time.</p>
        <canvas class="patternCanvas" id="beehivePattern"></canvas>

        <h3>Loaf</h3>
        <p>The loaf is a still life that remains unchanged throughout the game.</p>
        <canvas class="patternCanvas" id="loafPattern"></canvas>

        <h3>Boat</h3>
        <p>The boat is a stable still life pattern.</p>
        <canvas class="patternCanvas" id="boatPattern"></canvas>

        <h3>Pulsar</h3>
        <p>The pulsar is a large, symmetric oscillator with a period of 3.</p>
        <canvas class="patternCanvas" id="pulsarPattern"></canvas>

        <h3>Glider Gun</h3>
        <p>The glider gun generates new gliders periodically.</p>
        <canvas class="patternCanvas" id="glidergunPattern"></canvas>

        <h3>R-pentomino</h3>
        <p>The R-pentomino is a methuselah pattern that evolves unpredictably.</p>
        <canvas class="patternCanvas" id="rpentominoPattern"></canvas>
    </div>

<script>
    // Function to open the sidebar
    document.getElementById('openSidebarBtn').addEventListener('click', function() {
        document.getElementById('sidebar').classList.add('open');
    });

    // Function to close the sidebar
    document.getElementById('closeBtn').addEventListener('click', function() {
        document.getElementById('sidebar').classList.remove('open');
    });

    // Helper function to draw cells on a small canvas grid
    function drawPattern(ctx, pattern, cellSize, gridSize) {
        ctx.clearRect(0, 0, gridSize * cellSize, gridSize * cellSize);
        pattern.forEach(([x, y]) => {
            ctx.fillStyle = 'black';
            ctx.fillRect(x * cellSize, y * cellSize, cellSize, cellSize);
        });
    }

    // Initialize pattern canvases with predefined patterns
    function initializePatternCanvases() {
        const cellSize = 10; // Cell size for small canvases
        const gridSize = 10; // Size of the grid (10x10 for small patterns)

        const patterns = {
            glider: [[1, 0], [2, 1], [0, 2], [1, 2], [2, 2]],
            block: [[0, 0], [0, 1], [1, 0], [1, 1]],
            beehive: [[1, 0], [0, 1], [2, 1], [0, 2], [2, 2], [1, 3]],
            loaf: [[1, 0], [0, 1], [2, 1], [0, 2], [2, 2], [1, 3], [2, 3]],
            boat: [[0, 0], [0, 1], [1, 0], [1, 2], [2, 1]],
            pulsar: [[0, 2], [0, 3], [0, 4], [0, 8], [0, 9], [0, 10], [2, 0], [3, 0], [4, 0], [8, 0], [9, 0], [10, 0], [2, 5], [3, 5], [4, 5], [8, 5], [9, 5], [10, 5], [2, 7], [3, 7], [4, 7], [8, 7], [9, 7], [10, 7], [2, 12], [3, 12], [4, 12], [8, 12], [9, 12], [10, 12], [5, 2], [5, 3], [5, 4], [5, 8], [5, 9], [5, 10], [7, 2], [7, 3], [7, 4], [7, 8], [7, 9], [7, 10]],
            glidergun: [[5, 1], [5, 2], [6, 1], [6, 2], [5, 11], [6, 11], [7, 11], [4, 12], [8, 12], [3, 13], [9, 13], [3, 14], [9, 14], [6, 15], [4, 16], [8, 16], [5, 17], [6, 17], [7, 17], [6, 18], [3, 21], [4, 21], [5, 21], [3, 22], [4, 22], [5, 22], [2, 23], [6, 23], [1, 25], [2, 25], [6, 25], [7, 25]],
            rpentomino: [[1, 0], [2, 0], [0, 1], [1, 1], [1, 2]],
        };

        const canvases = {
            gliderPattern: document.getElementById('gliderPattern').getContext('2d'),
            blockPattern: document.getElementById('blockPattern').getContext('2d'),
            beehivePattern: document.getElementById('beehivePattern').getContext('2d'),
            loafPattern: document.getElementById('loafPattern').getContext('2d'),
            boatPattern: document.getElementById('boatPattern').getContext('2d'),
            pulsarPattern: document.getElementById('pulsarPattern').getContext('2d'),
            glidergunPattern: document.getElementById('glidergunPattern').getContext('2d'),
            rpentominoPattern: document.getElementById('rpentominoPattern').getContext('2d'),
        };

        Object.keys(canvases).forEach((key) => {
            drawPattern(canvases[key], patterns[key.replace('Pattern', '')], cellSize, gridSize);
        });
    }

    // Initialize the pattern canvases after the page loads
    window.onload = initializePatternCanvases;

    (function() {
        // Game logic and other functionalities (omitted for brevity)
    })();
</script>

</body>
</html>
